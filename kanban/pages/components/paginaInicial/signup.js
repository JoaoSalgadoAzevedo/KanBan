import Head from 'next/head'
import { useState } from "react"


export default function Signup() {

  const [signupData, setSignupData] = useState({
    FirstName: 'name',
    LastName: 'name',
    EmailAddress: "aaa@aaa.aa",
    Password: 'password',
    passwordConfirmation: 'passwordConf',
    terms: false
  })

  const submit = async () => {
    const res = await fetch(
      '../../api/signUp', {
      body: JSON.stringify(signupData),
      headers: {
        "Content-Type": "application/json",
      },
      method: "POST"
    })
    const json = await res.json() 
    console.log(signupData, res.status, json)
    
  }

  return (
    <>
      <Head>
        <title>OPPLOG</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <aside>
          <h1>LOGO</h1>
          <p>SIGN UP</p>
        </aside>

        <form
          onSubmit={ (e) => {
              e.preventDefault(),
              submit()
            }
            }>

          <label> First Name
            <input
              type="text"
              onChange={(e) => setSignupData({ ...signupData, FirstName: e.target.value })}
              autoComplete="off"></input>
          </label>

          <label> Last Name
            <input
              type="text"
              onChange={(e) => setSignupData({ ...signupData, LastName: e.target.value })}
              autoComplete="off"></input>
          </label>  

          <label> Email
            <input
              type="email"
              name="description"
              onChange={(e) => setSignupData({ ...signupData, EmailAddress: e.target.value })}
              placeholder="Email" autoComplete="off" />
          </label>

          <label> Password
            <input
              type="password"
              name="description"
              placeholder="Inserir Password"
              onChange={(e) => setSignupData({ ...signupData, Password: e.target.value })}
              autoComplete="off" />
          </label>

          <label> Repeat Password
            <input
              type="password"
              name="description"
              onChange={(e) => setSignupData({ ...signupData, passwordConfirmation: e.target.value })}
              placeholder=""
              autoComplete="off"></input>
          </label>

          <label> Accept terms
            <input
              type="checkbox"
              required
              onChange={(e) => setSignupData({ ...signupData, terms: !signupData.terms })}
              name=""></input>
          </label>

          <button
            value="Sign Up">
              Submit
          </button>
              <h1>{JSON.stringify(signupData)}</h1>
        </form>
        <footer>copyright</footer>
      </main>
    </>
  )
}

